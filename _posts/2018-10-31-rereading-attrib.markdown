---
layout: post
title:  "Введение в OpenSceneGraph: Обновление геометрических атрибутов"
date:   2018-10-31 12:28:00 +0300
categories: jekyll update
---

Клсаа osg::Geometry управляет множеством данных, описывающих вершины и отображает полигональную сетку с использованием упорядоченного набора примитивов. Однако, данный класс не имеет представления о таких элементах топологии модели как грани, ребра и соотношения между ними. Этот нюанс мешает реализации таких вещей как перемещение определенных граней, например при анимировании моделей. В настоящее время OSG не поддерживает такую функциональность.

Однако в движке реализован ряд функторов, позволяющих перечитать атрибуты геометрии любого объекта и использовать их в целях моделирования топологии полигональной сетки. В C++ функтором называется конструкция, позволяющая использовать объект как функцию. 

Класс osg::Drawable предосталяет разработчику четыре типа функторов

1. osg::Drawable::AttributeFunctor - читает атрибуты вершин как массив указателей. Он имеет ряд виртуальных методов для применения атрибутов вершин разных типов данных. Для использования этого функтора необходимо описать класс и переопределить один или более его методов, внутри которых выполняются требуемые разработчику действия

```cpp
virtual void apply( osg::Drawable::AttributeType type, 
					unsigned int size, osg::Vec3* ptr )
{
	// Читаем 3-векторы в буффер с указателем ptr.
	// Первый параметр определяет тип атрибута
}
```

