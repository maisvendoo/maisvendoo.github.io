---
layout: post
title:  "Введение в OpenSceneGraph: Понятие об интерполяции движения"
date:   2018-11-12 14:13:00 +0300
categories: jekyll update
---

Предположим, что некий поезд, идущий от станции A к станции B затрачивает на это перемещение 15 минут. Как можно смоделировать эту ситуацию, изменяя положение поезда в обратном вызове? Самый простой способ - соотнести положение станции A с моментом времени 0, а станции B - с моментом 15 минут и равномерно перемещать поезд между этими моментами времени. Такой простейший подход называется линейной интерполяцией. При линейной интерполяции вектор, задающий положение промежуточной точки описывается формулой

```
p = (1 - t) * p0 + t * p1
```

где p0 - начальная точка; p1 - конечная точка; t - параметр, изменяющийся равномерно от 0 до 1. Однако, движение поезда намного сложнее: выйдя со станции A он разгоняется, потом движется с постоянной скоростью, а затем замедляется, останавливаясь на станции B. Линейная интерполяция такой процесс уже не в состоянии описать и выглядит неестественно.

OSG предоставляет разработчику библиотеку osgAnimation, содержащую ряд стандартный алгоритмов интерполяции, применяемых для плавной анимации перемещения объектов сцены. Каждая из этих функций иммет обычно два аргрумента: начальное значение параметра (обычно 0) и конечное значение параметра (обычно 1). Эти функции могут быть применены к начальному участку движения (InMotion), к конечному участку (OutMotion) или к начальному и конечному участку движения (InOutMotion)

|-------------------------------|---------------|----------------|------------------|
|Тип движения                   |in-класс       |out-класс       |in/out-класс      |
|-------------------------------|---------------|----------------|------------------|
|Линейная интерполяция          |LinearMotion   |--              |--                |
|Квадратичная интерполяция      |InQuadMotion   |OutQuadMotion   |InOutQuadMotion   |
|Кубическая интерполяция        |InCubicMotion  |OutCubicMotion  |InOutCubicMotion  |
|Интерполяция 4-порядка         |InQuartMotion  |OutQuartMotion  |InOutQuartMotion  |
|Интерполяция с эффектом отскока|InBounceMotion |OutBounceMotion |InOutBounceMotion |
|Интерполяция с упругим отскоком|InElasticMotion|OutElasticMotion|InOutElasticMotion|
|Синусоидальная интерполяция    |InSineMotion   |OutSineMotion   |InOutSineMotion   |
|Интерполяция обратной функцией |InBackMotion   |OutBackMotion   |InOutBackMotion   |
|Круговая интерполяция          |InCircMotion   |OutCircMotion   |InOutCircMotion   |
|Экспоненциальная интерполяция  |InExpoMotion   |OutExpoMotion   |InOutExpoMotion   |

